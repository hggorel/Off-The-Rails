pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--this is an animation file just
--for making animations for output
function _init()
	gameinit()
	titleinit()
end

function titleinit()
	mode = 0
end

function gameinit()
	mode = 1
end

function pauseinit()
	mode = 2
end

--click count for text display
cc = 0 --to be incremented and used for printing text

--131-138
train={
x=1*8,
y=112,
sprite=131,
l=7,
h=1
}

smoke={
x=53,
y=104,
sprite=146,
a=.25
}

colstut={
x=1,
mx=13,
tim = .15 --timing
}

title={
sp=0,
w=8,
h=2
}





-->8
function _update()
	if(mode == 0) then
		titleupdate() 
	elseif mode == 2 then
		pauseupdate() 
	else 
		gameupdate() 
	end
	--continuous things
	colorstut()
end


function titleupdate()
	if btn(4) then
		mode = 1
	end
end	

function gameupdate()
	if(btnp(⬆️) and btnp(⬇️)) then
		mode = 2 --pause screen
	end
end

function pauseupdate()
	if(btnp(⬆️) and btnp(⬇️)) then
		mode = 1
	end
end
-->8
function _draw()
	if mode == 0 then
		titledraw()
	elseif mode == 2 then
		pausedraw()
	else
		gamedraw() --mode only if 1
	end

end

function titledraw()
	cls()
	color(12)
	pal(12, 140, 1)
	rectfill(0, 0, 127, 127)
		titleanimate()
	spr(train.sprite,train.x,train.y,train.l,train.h,true,false)
	spr(smoke.sprite,smoke.x,smoke.y)
	map(17,0,2,72,14*8,6*8)
	color(1)
	rect(0, 0, 127, 127)
		print("press z to start",3,3,7)
	--	spr(title.sp,16,16,title.w,title.h)
		sspr(0,0,64,16,40,52,80,32)
end

function titleanimate()
train.x+=.75
smoke.x+=.75

if train.x >= 145  then
	train.x = -50
	smoke.x = -6
end

smoke.sprite += .38

if smoke.sprite > 149 then
 smoke.sprite = 146

end

end

function pausedraw()
	color(14)
	pal(14,131,1) --replace pink with 131
	rectfill(8, 8, 119, 119)
	print("inventory",10,10,7)
	spr(76,16,16)
	--selection for movement through inventroy should be btnp
	--inventory square by square

end

function gamedraw()
	cls()
--	fillp(ˇ)
--	color(colstut.x) --trying?
	color(1)
	rectfill(0,0,132,132)
	color(7)
	pal(7,135,1)
	text1()
end

--for a color shifting background
function colorstut()
	colstut.x += colstut.tim
	if colstut.x > colstut.mx then
		colstut.x = 1
	end
end
-->8
--text for trailer
--trying to get fade in text??
--could set text to have color
--attached to a table and function
--that sycles from black to gray to white then stops
--etc etc...for the classiness

function text1()
	print("north england, 196x")
		if btnp(❎) then
				cc += 1 --cc should = 1
			end
		if cc == 0 then	
		print(".",4,5)
		end
		if cc == 1 then
		print(". .",4,5)
		end
		if  cc > 1 then
		print(". . .",4,5)
		end
end

--no idea what to say here
function text2()
	print("your hamlet is starving")
	print("are you going to stand for this?")
end

function text3()
	print("the idea is simple:")
	print("steal the queen's crown")
	print("then get away with it")
end


__gfx__
00aaaa00aa000aa00000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000003300000000000
5a005a5a05a5a05a05a05a0005a00000000000000000000000000000000000000000000000000080933000009330000000033000000330000009300000033000
5a005a5a0005a0000aaa5a005a5a0000000000000000000000000000000000000000000000000000003000000030000000093000000390000004400000039000
5a005a5aaa05aaa005a05aaa5aaa0000000000000000000000000000000000000000000000aaa080004000000040000000044000000440000077770000044000
5a005a5a0005a00005a05a5a5a00000000000000000000000000000000000000000000000aa0a900007777700077777000777700007777000077770000777700
5a005a5a0005a00005a05a5a5a5a005a00000000000000000000000000000000000000000aaaa000007777000077770000777700007777000007700000777700
05aaaa5a0005a000005a5a5a05a0005a00000000000000000000000000000000000000000aaa0000000770000007700000077000000770000040090000077000
0000000000000000000000000000005a000000000000000000000000000000000000000000909000009040000040900000400900009004000000000000900900
005aaaa00000000000d00000000005a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
005a005a00000005a00da000000005a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
005a005a00aaa0000000ad05aa005a00000000000000000000000000000000000000000000cc000000cc000000cc000000cc0000000000000000000000000000
005aaaa000005a05a05a000a00a05a00000000000000000000000000000000000000000000c90000009c000000cc000000cc0000000000000000000000000000
005a05a005aa5a05a05a0005a000000000000000000000000000000000000000000000000cccc0000cccc0000cc1c0000c1cc000000000000000000000000000
005a05a00a05aa05a5a005a05a005a0000000000000000000000000000000000000000000caac0000caac0000c11c0000c11c000000000000000000000000000
005a05aa05aa5a05a5a0005aa0000000000000000000000000000000000000000000000000aa000000aa000000aa000000aa0000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000009004000040090000900400004009000000000000000000000000000
cccccccccccccccccccccccccccccccccccccccccccccbccccc7cccccccccccccccccccca111111111111111cccccccc11111111000000000000000000000000
cccc55551115ccccccc33331ccccccccccc3ccccccbbbbcccc777ccccccccccccccccccc11a111111a111111ccd55555112cc211000000000000000000000000
ccc5888888881cccccc60003cccccccccb33ccccccbb7bbcc77777cc7c76cccccccccccc11111111111111a1cd44444412c77c21000000000000000000000000
cc35ee8888881cccccc60003ccccccccb3333cccccbb7bbcccccccc7777777cc9cc9cd2c11a11111111111115444494412c77c21000000000000000000000000
c358e677768885cc933333333333339cb33333cccbbb7bbccccccccc66d7cccccdacd2c211111a1111111911c4c145942cccccc2000000000000000000000000
c38ee7228788885c553333333353383c343333cccc7b77bcccccc77cccccccccd1d919211111111111191111c41145441cc88cc1000000000000000000000000
c5eee6377688885c133113333331135c334343ccccc77bcccccc77777ccccccc212121121119111111111161c41144441cc88cc1000000000000000000000000
c5ee83388848885cccc11cccccc11cccc4b43bcccccc75cccc776d7777cccccc111111111111111111111111c41144441cc88cc1000000000000000000000000
c5e883338884885c3bb3b333333b333bcc493ccccccc77cccccccccccccccccccccccccc1111111111111111333330003bb3b333000000000000000000000000
ce8888777888888c4b333bb44333b344cc64cccccccc57cccccccccccccccccccccccccc111111111111111133333b0044343b44000000000000000000000000
ce7786888687668c34444444444b4445cc49cc113ccc57cccccccccccccccccccccccccc11111111111111119999993044444444000000000000000000000000
c87787787787868c4944444444444944cc44c11113cc75b3cccccccccccccccc9c6cc9ca11111111111111113003980044444444000000000000000000000000
c87787878787778c4499494454499444cb45133111bb7733cccccccccc777ccccece2cee111111111111111130d3980044444444000000000000000000000000
c88887787684888c9445444444444444bb44b3331bbbb713ccccccccc77777cc192ae12e11111111111111119999980044444444000000000000000000000000
c82247888788222c5554455555445444334433333b333333cccccccc7767d66c2121121211111111111111119999999a44444455000000000000000000000000
555555555555555555444455445544443333333333333333cccccccccccccccc1111111111111111111111114444444455444444000000000000000000000000
00888880000ffff000111110000111100000100000888888888118888888228888880033b333333333333000007777000000a000000000000000000000000000
08fff880000fcfc0014441100011111000011100008cddd6888118dcc6d88cdcccc8003ccc6633bdccdc300070717160000aa000000088888000000000000000
083f3880000ffff001343111000c4cd0001a111000cccdd6888008c6cddc86dcccc8003c6dccc33ccd6630007777776700aaaa00000088fff800000000000000
08fff880001111101144411100d444d0007cfc70088cc6dc888008cdcdd88cd6ccc8003cddccc33cdd6c300007771760022722200000883f3800000000000000
01111180001111101555551000111110017fff718a8888888880082888882888882800333bb333b333333000077777600a8aa8a0000088fff800000000000000
011111000011111005555500001111100f17771f2282882200811822888222888228003333333333bbb33000007777600a2a82a0000088222000000000000000
0f101f0000f101f004101400004d0d4001a771108811228881100881188888811888113311333333311331100007776000222200000082222200000000000000
00505000000d0d0000505000000d0d00111711a10011000001100001100000011000000011000000011000000000766607777770000022222200000000000000
888888880000002200008000000ccc00000000003333333333333333cccccccc0000000000000000000000000000000000111000000022222200000000000000
aaaaaaaa00000022000cc00000c66f0000ffff003366666666666633cccccccc0000000007700770000d000000000000001110000000f2222f00000000000000
a999999a00000022000cc00000c6fff0115ff5113600000000000063cccccccc000000007777000000ddd0000000000000fff000000002222000000000000000
a9aaaa9a00000022444444440cccff0011ffff113600000000000063cccccccc00000000000000000ddddd00000000000ffff000000002222000000000000000
a9aaaa9a02222222000440000ddddd00111111113600000000000063cccccccc0077700000000000ddddddd00dddd0000088800000000f00f000000000000000
a999999a02222222000440000ddddf00f011110f3600000000000063cccccccc0777777000000700ddddddddddddddd00088800000000f00f000000000000000
aaaaaaaa05444445000440000ddddd00001001003600000000000063cccccccc7777777700077770dddddddddddddddd00888000000008808800000000000000
999999990550005500555500dddddd000dd00dd03366666666666633cccccccc0000000000000000dddddddddddddddd00101000000000000000000000000000
00111000001110000044400000444000000000003333333333333333333333330000000000000000000000000000000000000000000000000000000000000000
0011100000111000004fc000004fc00000444000b3b3b3b333333333b3b3b3b3000aa00000000000000000000000000000000000000000000000000000000000
001110000011100000fff00000fff000004444003b3b3b3b333333333b3b3b3b00a00a0000000000000000000000000000000000000000000000000000000000
00fff000001ff000001770550017705504fff0003333333333333333333333334544445400000000000000000000000000000000000000000000000000000000
088888000088800000117f0000117f00004440603333333333333333333333334544445400000000008888000000000000888800000000000088880000000000
087878000078745500f1100000f1100000444400333333333333333333333333454444540000000000f888000000000000f888000000000000f8880000000000
0f888f0000884f00001010000110100000444000bbbbbbbb33333333333333334544445400000000003ff88000000000003ff88000000000003ff88000000000
0010100000101000010000000000100000101000333333333333333333333333454444540000000000ff88800000000000ff88800000000000ff888000000000
00000000444444444444445444444444944444493333333300000000000000000000000000000000001888220000000000188822000000000018882200000000
00000000444444444444454444555544445555446666666600000000007777000070000000000000001118220000005000111822000000000011182200000000
000000004444444444444454454444544544445400000000000000000e7777700ee700000000005d111110220000000011111022000000511111102200000000
00000000444444444444445445445454454544540000000000000000e777777000e0000000000000111110220000000d0111102200000000d111102200000000
00000000444444444444445445454454454454540000000000000000e777777000000a0000000000522222220000000502222222000000005222222200000000
000000004444444444444454454444544544445400000000000000000ee777000000e7a000000000022222220000000002222222000000000222222200000000
00000000455555544444454444555544445555440000000000000000000700000000070000000000054444450000000005444445000000000544444500000000
00000000544444454444445444444444944444496666666600000000000007000000000000000000055000550000000005500055000000000550005500000000
0000000000000000aaaaaaaa00888888888118888888228888880033b333333333333003333b3333333333300000000000000000000000000000000000000000
0000666660000000ad66666a008cddd6888118dcc6d88cdcccc8003ccc6633bdccdc3003ccccccb33ccccc300000000000000000000000000000000000000000
0000644460000000ad64446a00cccdd6888008c6cddc86dcccc8003c6dccc33ccd663003cdccccc33dcc7c300000000000000000000000000000000000000000
0000614160000000ad61416a088cc6dc888008cdcdd88cd6ccc8003cddccc33cdd6c3003dcc77cc33ccccc300000000000000000000000000000000000000000
0000044400000000ad64446a8a8888888880082888882888882800333bb333b3333330033b333333d333b3300000000000000000000000000000000000000000
0000044000000000add44dda2282882200811822888222888228003333333333bbb3300333333bb3333333300000000000000000000000000000000000000000
0041444414000000a111111a88112288811008811888888118881133113333333113311333113333333113310400000004000000000000000000000000000000
0041111114000000aaaaaaaa00000000000000000000000000000000000000000000000000000000000000005455555554555545000000000000000000000000
0044444114000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011464440000000700000000000000607000006700000067000000000000000000000000000000000000000000000000000000000000000000000000000000
00011111100000000000000000d7c00000c600000660000006600000000000000000000000000000000000000000000000000000000000000000000000000000
00011111100000000d7c00000dd660000dd00000cd7c0000cd7c0000000000000000000000000000000000000000000000000000000000000000000000000000
00011111100000000dd66700000d670000d667000dd667000dd66700000000000000000000000000000000000000000000000000000000000000000000000000
000111111000000000ddd600000dd000000dd60000ddd60000ddd600000000000000000000000000000000000000000000000000000000000000000000000000
00004004000000000000d0600000d6600000d0600000dd600000d660000000000000000000000000000000000000000000000000000000000000000000000000
00055005500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
7371717171717171717371717171000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7267676767676767677367676767000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7266666666666666666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7255566666557556666666557556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7265656565656565656565656565000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
50505050505050505050505050500000003b8b8c8b8c8b8c8b8b8c8b8c8b8c8b8b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000033323c3c3c33333c33333c3c333c333c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
